<div class="registro-container">
  <h2>Registro de Doctores</h2>

  <p-toast></p-toast>

  <div class="modal-overlay" *ngIf="mostrarModalCamposObligatorios" (click)="cerrarModalCamposObligatorios()">

    <div class="modal-content warning-modal" (click)="$event.stopPropagation()">

      <div class="warning-icon-circle">
        <i class="fa-solid fa-triangle-exclamation"></i>
      </div>

      <h2 class="warning-title">Faltan Datos</h2>

      <p class="warning-message">
        Para registrar al médico correctamente, completa la siguiente información obligatoria:
      </p>

      <div class="missing-fields-container">
        <div class="missing-field-chip" *ngFor="let campo of camposFaltantes">
          <i class="fa-solid fa-circle-xmark"></i>
          {{ campo }}
        </div>
      </div>

      <button class="btn-understood" (click)="cerrarModalCamposObligatorios()">
        Entendido
      </button>

    </div>
  </div>

  <form id="doctorForm" class="doctor-form" (ngSubmit)="onSubmit()" novalidate>

    <div class="form-field">
      <label for="nombre">Nombre <span class="requerido">*</span></label>
      <input type="text" id="nombre" name="nombre" [(ngModel)]="doctorData.nombre" required placeholder="Ej. Juan" />
    </div>

    <div class="form-field">
      <label for="apellidos">Apellidos <span class="requerido">*</span></label>
      <input type="text" id="apellidos" name="apellidos" [(ngModel)]="doctorData.apellidos" required
        placeholder="Ej. Pérez García" />
    </div>

    <div class="form-field">
      <label for="cedula_prof">Cédula Profesional <span class="requerido">*</span></label>
      <input type="text" id="cedula_prof" name="cedula_prof" [(ngModel)]="doctorData.cedula_prof" required
        placeholder="Ej. 1234567" />
    </div>

    <div class="form-field">
      <label for="especialidad">Especialidad</label>
      <input type="text" id="especialidad" name="especialidad" [(ngModel)]="doctorData.especialidad"
        placeholder="Ej. Cirugía veterinaria" />
    </div>

    <div class="form-field">
      <label for="telefono">Teléfono</label>
      <input type="text" id="telefono" name="telefono" [(ngModel)]="doctorData.telefono" placeholder="Ej. 5551234567" />
    </div>

    <div class="form-field">
      <label for="correo">Correo electrónico</label>
      <input type="text" id="correo" name="correo" [(ngModel)]="doctorData.correo" placeholder="Ej. doctor@mail.com" />
    </div>

    <div>
      <label class="label-titulo">Asignar a Agenda:</label>

      <div class="radio-group-container">

        <label class="radio-card">
          <input type="radio" name="nombre_agenda" value="General" [(ngModel)]="doctorData.nombre_agenda" required>
          <div class="card-content">
            <i class="fa-solid fa-stethoscope radio-icon"></i>
            <span class="radio-text">General</span>
          </div>
        </label>

        <label class="radio-card">
          <input type="radio" name="nombre_agenda" value="Cirujano" [(ngModel)]="doctorData.nombre_agenda" required>
          <div class="card-content">

            <svg class="radio-icon-svg" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
              <path d="M19.7,4.3c-0.4-0.4-1-0.4-1.4,0L7.1,15.5c-1.1,1.1-1.1,2.9,0,4c0,0,0,0,0,0l1.4,1.4c1.1,1.1,2.9,1.1,4,0L23.7,9.7
	            c0.4-0.4,0.4-1,0-1.4L19.7,4.3z M8.5,18.1c-0.3-0.3-0.3-0.8,0-1.1L15.9,9.6l2.5,2.5L11,19.5l0,0c-0.3,0.3-0.8,0.3-1.1,0L8.5,18.1z
	             M5.7,16.9l-4,4c-0.4,0.4-0.4,1,0,1.4s1,0.4,1.4,0l4-4L5.7,16.9z" />
            </svg>

            <span class="radio-text">Cirujano</span>
          </div>
        </label>

        <label class="radio-card">
          <input type="radio" name="nombre_agenda" value="Neuropediatra" [(ngModel)]="doctorData.nombre_agenda"
            required>
          <div class="card-content">
            <i class="fa-solid fa-brain radio-icon"></i>
            <span class="radio-text">Neuropediatra</span>
          </div>
        </label>

      </div>

    </div>

    <button type="submit" class="btn-reg btn-outline-primary" [disabled]="loading">
      {{ loading ? 'Guardando...' : 'Registrar Doctor' }}
    </button>

  </form>
</div>